(this["webpackJsonpplanner-task"]=this["webpackJsonpplanner-task"]||[]).push([[0],{106:function(e,t,n){},120:function(e,t,n){},146:function(e,t,n){},147:function(e,t,n){},174:function(e,t,n){},204:function(e,t,n){},205:function(e,t,n){},206:function(e,t,n){},207:function(e,t,n){},208:function(e,t,n){},209:function(e,t,n){},210:function(e,t,n){},211:function(e,t,n){},212:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(13),s=n.n(c),r=(n(146),n(3)),l=(n(147),n(73),n(57),n(9)),o=n(8),d=n(10),j=n(121),u=n.n(j),b="https://planner-node.herokuapp.com";console.log(b);var O=u.a.create({baseURL:b,params:{id:localStorage.getItem("UserId")},headers:{authentication:"Bearer ".concat(localStorage.getItem("token"))}}),h=n(254),p=n(252),x=n(246),f=n(250),v=n(256),m=n(1);function g(e){var t=e.status,n=e.setStatus,i=e.info,c=Object(a.useState)(650),s=Object(r.a)(c,2),l=s[0],o=s[1];Object(a.useEffect)((function(){window.screen.width<650&&o(window.screen.width-10)}),[]),window.addEventListener("resize",(function(e){e.target.innerWidth<650?o(e.target.innerWidth-20):o(650)}));var d={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:l,boxShadow:24,p:4};function j(){n(!1)}return Object(m.jsx)("div",{children:Object(m.jsx)(v.a,{open:t,onClose:j,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(m.jsxs)(h.a,{sx:d,className:"taskModal",children:[Object(m.jsx)("h3",{children:"Error"}),Object(m.jsx)("br",{}),Object(m.jsx)("p",{children:i}),Object(m.jsx)("hr",{}),Object(m.jsx)("br",{}),Object(m.jsx)("div",{children:Object(m.jsx)(x.a,{variant:"contained",color:"primary",onClick:j,children:"Ok"})})]})})})}var k=n(21);var w=function(){var e=Object(a.useRef)(null),t=Object(a.useRef)(null),n=Object(k.g)(),i=Object(a.useState)(),c=Object(r.a)(i,2),s=c[0],j=c[1],u=Object(a.useState)(),b=Object(r.a)(u,2),v=b[0],w=b[1],S=Object(a.useState)(!1),y=Object(r.a)(S,2),N=y[0],C=y[1];return Object(a.useEffect)((function(){var t,n;null===(t=e.current)||void 0===t||null===(n=t.children[1].children[0])||void 0===n||n.select()}),[]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"HomePageHeader",children:[Object(m.jsx)(d.b,{to:"/planner-task/",children:"Home Page"}),Object(m.jsxs)("div",{children:[Object(m.jsx)(d.b,{to:"/planner-task/login",children:"log in"}),Object(m.jsx)(d.b,{to:"/planner-task/register",children:"register"})]})]}),N?Object(m.jsx)(f.a,{style:{alignSelf:"center",marginTop:"50px"}}):Object(m.jsx)("div",{className:"login",children:Object(m.jsxs)("div",{className:"form",children:[Object(m.jsx)("div",{children:Object(m.jsx)("span",{children:"Log In"})}),Object(m.jsxs)("form",{onSubmit:function(a){return function(a){var i,c,s,r;a.preventDefault(),C(!0);var l=null===(i=e.current)||void 0===i||null===(c=i.children[1].children[0])||void 0===c?void 0:c.value.trim(),o=null===(s=t.current)||void 0===s||null===(r=s.children[1].children[0])||void 0===r?void 0:r.value.trim();""!==l&&""!==o?O.post("/auth/login",{email:l,password:o}).then((function(e){return e.data.error?(j(!0),w(e.data.error),C(!1)):(localStorage.setItem("token",e.data.token),localStorage.setItem("UserId",e.data.UserId)),e})).then((function(e){e.data.error||(n.push("/planner-task/profile"),document.location.reload())})).catch((function(e){j(!0),w(e),C(!1)})):(j(!0),w("some input is empty, please fill all the data."))}(a)},children:[Object(m.jsx)("div",{className:"label",children:Object(m.jsxs)(h.a,{sx:{display:"flex",alignItems:"flex-end"},className:"input",children:[Object(m.jsx)(o.a,{icon:l.d}),Object(m.jsx)(p.a,{id:"input-with-sx",label:"Email",variant:"standard",ref:e,fullWidth:!0})]})}),Object(m.jsx)("div",{className:"label",children:Object(m.jsxs)(h.a,{sx:{display:"flex",alignItems:"flex-end"},className:"input",children:[Object(m.jsx)(o.a,{icon:l.m}),Object(m.jsx)(p.a,{id:"input-with-sx",label:"Password",variant:"standard",ref:t,fullWidth:!0,type:"password"})]})}),Object(m.jsx)("span",{children:Object(m.jsx)(x.a,{className:"loginButton",type:"submit",variant:"contained",color:"primary",children:"Login"})})]}),Object(m.jsxs)("span",{className:"recoveryPassword",children:[Object(m.jsxs)("span",{children:[Object(m.jsx)(d.b,{to:"/planner-task/verifyAccount",children:"verify your Account "})," "]})," ",Object(m.jsx)("br",{}),Object(m.jsx)("span",{children:Object(m.jsx)(d.b,{to:"/planner-task/forgotpassword",children:"Forgot your password?"})})]})]})}),Object(m.jsx)(g,{status:s,setStatus:j,info:v})]})};var S=function(){var e=Object(a.useState)(),t=Object(r.a)(e,2),n=(t[0],t[1],Object(a.useRef)(null)),i=Object(a.useRef)(null),c=Object(a.useRef)(null),s=Object(a.useRef)(null),j=Object(k.g)(),u=Object(a.useState)(),b=Object(r.a)(u,2),v=b[0],w=b[1],S=Object(a.useState)(),y=Object(r.a)(S,2),N=y[0],C=y[1],I=Object(a.useState)(!1),E=Object(r.a)(I,2),T=E[0],D=E[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"HomePageHeader",children:[Object(m.jsx)(d.b,{to:"/planner-task/",children:"Home Page"}),Object(m.jsxs)("div",{children:[Object(m.jsx)(d.b,{to:"/planner-task/login",children:"log in"}),Object(m.jsx)(d.b,{to:"/planner-task/register",children:"register"})]})]}),T?Object(m.jsx)(f.a,{style:{alignSelf:"center",marginTop:"50px"}}):Object(m.jsx)("div",{className:"login",children:Object(m.jsxs)("div",{className:"form",children:[Object(m.jsx)("div",{children:Object(m.jsx)("span",{children:"Register"})}),Object(m.jsxs)("form",{onSubmit:function(e){return function(e){var t,a,r,l,o,d,u,b;e.preventDefault();var h=null===(t=n.current)||void 0===t||null===(a=t.children[1].children[0])||void 0===a?void 0:a.value.trim(),p=null===(r=s.current)||void 0===r||null===(l=r.children[1].children[0])||void 0===l?void 0:l.value.trim(),x=null===(o=i.current)||void 0===o||null===(d=o.children[1].children[0])||void 0===d?void 0:d.value.trim(),f=null===(u=c.current)||void 0===u||null===(b=u.children[1].children[0])||void 0===b?void 0:b.value.trim();return""===h&&""===p&&""===x&&""===f?(w(!0),C("please fill in the details below."),void D(!1)):""===h||""===p||""===x||""===f?(w(!0),C("some input is empty, please fill all the data."),void D(!1)):x!==f?(w(!0),C("passwords are not compatible."),void D(!1)):x.length<3||x.length>8?(w(!0),C("must be greater than 3 characters and lower than 8."),void D(!1)):void O.post("/auth/register",{email:h,password:x,name:p}).then((function(e){e.data.error?(w(!0),C(e.data.error),D(!1)):(j.push("/planner-task/verifyAccount"),document.location.reload(),D(!1))})).catch((function(e){w(!0),C(e),D(!1)}))}(e)},children:[Object(m.jsx)("div",{className:"label",children:Object(m.jsxs)(h.a,{sx:{display:"flex",alignItems:"flex-end"},className:"input",children:[Object(m.jsx)(o.a,{icon:l.d}),Object(m.jsx)(p.a,{id:"input-with-sx",label:"Email",variant:"standard",ref:n,fullWidth:!0,type:"email"})]})}),Object(m.jsx)("div",{className:"label",children:Object(m.jsxs)(h.a,{sx:{display:"flex",alignItems:"flex-end"},className:"input",children:[Object(m.jsx)(o.a,{icon:l.n}),Object(m.jsx)(p.a,{id:"input-with-sx",label:"Name",variant:"standard",ref:s,fullWidth:!0})]})}),Object(m.jsx)("div",{className:"label",children:Object(m.jsxs)(h.a,{sx:{display:"flex",alignItems:"flex-end"},className:"input",children:[Object(m.jsx)(o.a,{icon:l.m}),Object(m.jsx)(p.a,{id:"input-with-sx",label:"Password",variant:"standard",ref:i,fullWidth:!0,type:"password"})]})}),Object(m.jsx)("div",{className:"label",children:Object(m.jsxs)(h.a,{sx:{display:"flex",alignItems:"flex-end"},className:"input",children:[Object(m.jsx)(o.a,{icon:l.m}),Object(m.jsx)(p.a,{id:"input-with-sx",label:"Repeat Password",variant:"standard",ref:c,fullWidth:!0,type:"password"})]})}),Object(m.jsx)("br",{}),Object(m.jsx)(x.a,{className:"loginButton",type:"submit",variant:"contained",color:"primary",children:"Register"})]})]})}),Object(m.jsx)(g,{status:v,setStatus:w,info:N})]})},y=n(62),N=n.n(y),C=n(83),I=n(18),E=n(14),T=n(16),D=n(47),P=(n(174),n(106),O.get("/auth",{params:{id:localStorage.getItem("UserId")},headers:{authentication:"Bearer ".concat(localStorage.getItem("token"))}})),W=Object(a.createContext)({});function A(e){var t=e.children,n=Object(a.useState)(),i=Object(r.a)(n,2),c=i[0],s=i[1];return Object(a.useEffect)((function(){P.then((function(e){e.data.error||s(e.data)})).then((function(){}))}),[]),Object(m.jsx)(W.Provider,{value:{userInfoContext:c,setUserInfoContext:s},children:t})}function R(e){return U.apply(this,arguments)}function U(){return(U=Object(C.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O.post("/planner/auth",{params:{id:localStorage.getItem("UserId"),plannerId:t},headers:{authentication:"Bearer ".concat(localStorage.getItem("token"))}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L=n(126).io("https://planner-node.herokuapp.com/");function _(e,t){return L.on(e,t)}function H(e,t){return L.emit(e,t)}function B(e,t){return L.off(e)}function M(e){var t=e.status,n=e.setStatus,i=e.plannerId,c=Object(a.useState)(),s=Object(r.a)(c,2),l=s[0],o=s[1],d=Object(a.useState)(650),j=Object(r.a)(d,2),u=j[0],b=j[1];Object(a.useEffect)((function(){window.screen.width<650&&b(window.screen.width-10)}),[]),window.addEventListener("resize",(function(e){e.target.innerWidth<650?b(e.target.innerWidth-20):b(650)}));var f={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:u,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};return Object(a.useEffect)((function(){}),[]),Object(m.jsx)("div",{children:Object(m.jsx)(v.a,{open:t,onClose:function(){return n(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(m.jsxs)(h.a,{sx:f,children:[Object(m.jsx)("h3",{children:"New Column"}),Object(m.jsxs)("div",{children:[Object(m.jsx)(p.a,{id:"name",label:"name",variant:"outlined",onChange:function(e){return o({description:null===l||void 0===l?void 0:l.description,name:e.target.value})}}),Object(m.jsx)(p.a,{id:"description",label:"description",variant:"outlined",onChange:function(e){return o({name:null===l||void 0===l?void 0:l.name,description:e.target.value})}})]}),Object(m.jsx)("hr",{}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{children:[Object(m.jsx)(x.a,{variant:"contained",color:"primary",onClick:function(){O.post("/planner/newColumn",{params:{name:null===l||void 0===l?void 0:l.name,desciption:null===l||void 0===l?void 0:l.description,plannerId:i}}).then((function(e){}))},children:"Confirm"}),Object(m.jsx)(x.a,{variant:"contained",color:"secondary",onClick:function(){n(!1)},children:"cancel"})]})]})})})}n(75);var z=n(258),F=n(257);function V(e,t){if(null==e)return"";if(e.length<=t)return e;var n=(e=e.substring(0,t)).lastIndexOf(" ");return-1!==n?e.substring(0,n)+"...":e.substring(0,t)+"..."}function q(e){var t=e.getUsers,n=e.status,i=e.setStatus,c=e.Columnid,s=e.plannerId,d=Object(a.useState)(!1),j=Object(r.a)(d,2),u=j[0],b=j[1],f=Object(a.useState)(""),k=Object(r.a)(f,2),w=k[0],S=k[1],y=Object(a.useState)([]),N=Object(r.a)(y,2),C=N[0],I=N[1],E=Object(a.useState)(650),T=Object(r.a)(E,2),D=T[0],P=T[1];Object(a.useEffect)((function(){window.screen.width<650&&P(window.screen.width-20)}),[]),window.addEventListener("resize",(function(e){e.target.innerWidth<650?P(e.target.innerWidth-20):P(650)}));var W={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:D,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},A=Object(a.useState)(),R=Object(r.a)(A,2),U=R[0],L=R[1],_=Object(a.useState)(),H=Object(r.a)(_,2),B=(H[0],H[1]);function M(){i(!1)}return Object(a.useEffect)((function(){B(t)}),[t]),Object(m.jsxs)("div",{children:[Object(m.jsx)(v.a,{open:n,onClose:M,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(m.jsxs)(h.a,{sx:W,className:"taskModal",children:[Object(m.jsx)("h3",{children:"New Task"}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"inputs",children:[Object(m.jsx)(p.a,{id:"tasktitle",label:"title",variant:"outlined",onChange:function(e){return L({description:null===U||void 0===U?void 0:U.description,accountable:null===U||void 0===U?void 0:U.accountable,title:e.target.value})}}),Object(m.jsx)(p.a,{id:"taskDesk",label:"Description",variant:"outlined",onChange:function(e){return L({title:null===U||void 0===U?void 0:U.title,accountable:null===U||void 0===U?void 0:U.accountable,description:e.target.value})}})]}),Object(m.jsx)("div",{className:"accountableList",children:C.map((function(e){return Object(m.jsx)("div",{children:Object(m.jsx)(F.a,{title:e.length>12?e:"",placement:"top-end",children:Object(m.jsxs)("span",{className:"accountable",children:[Object(m.jsx)("span",{children:V(e,10)}),"\xa0\xa0 ",Object(m.jsx)("span",{className:e,onClick:function(){return function(e){var t=[];C.forEach((function(n){n!==e&&(t.push(n),I(t))})),1===C.length&&I([])}(e)},children:Object(m.jsx)(o.a,{icon:l.j})})]})})})}))}),Object(m.jsx)(p.a,{select:!0,label:"accountable",value:null===U||void 0===U?void 0:U.accountable,fullWidth:!0,helperText:"Please select the accountable for this task.",children:null===t||void 0===t?void 0:t.map((function(e){return Object(m.jsx)(z.a,{onClick:function(t){-1===(null===C||void 0===C?void 0:C.indexOf(e.email))&&I(C.concat(e.email))},children:e.name})}))})]}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{className:"taskModalButtons",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)(x.a,{variant:"contained",color:"primary",onClick:function(){O.post("/task/newTask",{params:{title:null===U||void 0===U?void 0:U.title,desciption:null===U||void 0===U?void 0:U.description,accountable:C,plannerId:s,Columnid:c}}).then((function(e){e.data.error?(b(!0),S(e.data.error)):(L({}),B([{}]),I([]),M())})).catch((function(e){S(e)}))},children:"Confirm"}),Object(m.jsx)(x.a,{variant:"contained",color:"secondary",onClick:M,children:"cancel"})]}),Object(m.jsx)("div",{})]})]})}),Object(m.jsx)(g,{status:u,setStatus:b,info:w})]})}function G(e,t){var n=new Date(e),a=(n.getFullYear()<10?"0":"")+n.getFullYear(),i=(n.getMonth()<10?"0":"")+n.getMonth(),c=(n.getDate()<10?"0":"")+n.getDate(),s=(n.getHours()<10?"0":"")+n.getHours(),r=(n.getMinutes()<10?"0":"")+n.getMinutes();return t?"".concat(a,"-").concat(i,"-").concat(c):["".concat(a,"-").concat(i,"-").concat(c),"".concat(s,":").concat(r)]}function J(e){var t=e.status,n=e.setStatus,i=e.info,c=Object(a.useState)(650),s=Object(r.a)(c,2),l=s[0],o=s[1];Object(a.useEffect)((function(){window.screen.width<650&&o(window.screen.width-10)}),[]),window.addEventListener("resize",(function(e){e.target.innerWidth<650?o(e.target.innerWidth-20):o(650)}));var d={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:l,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function j(){n(!1),setTimeout((function(){document.getElementsByClassName(null===i||void 0===i?void 0:i.Columnid)[0].children[0].style.border="none",document.getElementById(null===i||void 0===i?void 0:i.taskId).style.border="none"}),3e3)}return Object(m.jsx)("div",{children:Object(m.jsx)(v.a,{open:t,onClose:j,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(m.jsxs)(h.a,{sx:d,children:[Object(m.jsx)("h3",{children:null===i||void 0===i?void 0:i.modalTitle}),Object(m.jsx)("br",{}),Object(m.jsxs)("p",{children:[Object(m.jsx)("strong",{children:null===i||void 0===i?void 0:i.createdBy})," have created the ",Object(m.jsx)("strong",{children:null===i||void 0===i?void 0:i.title})," Task at ",G(null===i||void 0===i?void 0:i.createdAt)[1]]}),Object(m.jsx)("hr",{}),Object(m.jsx)("br",{}),Object(m.jsx)("div",{children:Object(m.jsx)(x.a,{variant:"contained",color:"primary",onClick:j,children:"Ok"})})]})})})}n(204);var Y=n(128);function K(e){var t=e.status,n=e.setStatus,i=e.plannerId,c=e.userId,s=Object(a.useState)({permission:"intermediate"}),l=Object(r.a)(s,2),o=l[0],d=l[1],j=Object(a.useState)(),u=Object(r.a)(j,2),b=u[0],f=u[1],k=Object(a.useState)(),w=Object(r.a)(k,2),S=w[0],y=w[1],N=Object(a.useState)(650),C=Object(r.a)(N,2),I=C[0],E=C[1];Object(a.useEffect)((function(){window.screen.width<650&&E(window.screen.width-10)}),[]),window.addEventListener("resize",(function(e){e.target.innerWidth<650?E(e.target.innerWidth-20):E(650)}));var T={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:I,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function D(){n(!1)}return Object(a.useEffect)((function(){}),[]),Object(m.jsxs)("div",{children:[Object(m.jsx)(v.a,{open:t,onClose:function(){return n(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-permission",children:Object(m.jsxs)(h.a,{sx:T,className:"taskModal",children:[Object(m.jsx)("h2",{children:"New user"}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{className:"newUserModalHeader",children:[Object(m.jsx)(p.a,{id:"name",label:"email",variant:"outlined",type:"email",onChange:function(e){return d({permission:null===o||void 0===o?void 0:o.permission,email:e.target.value})}}),Object(m.jsxs)(p.a,{select:!0,label:(null===o||void 0===o?void 0:o.permission)+" permission",children:[Object(m.jsx)(z.a,{onClick:function(e){return d({email:null===o||void 0===o?void 0:o.email,permission:"total"})},children:"total"}),Object(m.jsx)(z.a,{onClick:function(e){return d({email:null===o||void 0===o?void 0:o.email,permission:"intermediate"})},children:"intermediate"}),Object(m.jsx)(z.a,{onClick:function(e){return d({email:null===o||void 0===o?void 0:o.email,permission:"observer"})},children:"observer"})]})]}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(m.jsx)(x.a,{variant:"contained",color:"primary",onClick:function(){var e;if(""==(null===o||void 0===o||null===(e=o.email)||void 0===e?void 0:e.trim()))return f(!0),void y("email its empty.");O.post("/planner/newUser",{params:{user:o,userId:c,plannerId:i}}).then((function(e){e.data.error?(f(!0),y(e.data.error)):D()})).catch((function(e){f(!0),y(e)}))},children:"Confirm"}),Object(m.jsx)(x.a,{variant:"contained",color:"secondary",onClick:D,children:"cancel"})]})]})}),Object(m.jsx)(g,{status:b,setStatus:f,info:S})]})}function Z(e){var t=e.status,n=e.setStatus,i=e.plannerId,c=e.userId,s=e.userList,l=e.userEml,o=Object(a.useState)(""),d=Object(r.a)(o,2),j=d[0],u=d[1],b=Object(a.useState)(),f=Object(r.a)(b,2),k=f[0],w=f[1],S=Object(a.useState)(),y=Object(r.a)(S,2),N=y[0],C=y[1],I=Object(a.useState)(),E=Object(r.a)(I,2),T=E[0],D=E[1],P=Object(a.useState)(),W=Object(r.a)(P,2),A=W[0],R=W[1],U=Object(a.useState)(650),L=Object(r.a)(U,2),_=L[0],H=L[1];Object(a.useEffect)((function(){window.screen.width<650&&H(window.screen.width-20)}),[]),window.addEventListener("resize",(function(e){e.target.innerWidth<650?H(e.target.innerWidth-20):H(650)}));var B={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:_,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function M(){n(!1)}return Object(a.useEffect)((function(){var e=[];null===s||void 0===s||s.forEach((function(t){(null===t||void 0===t?void 0:t.email)!==l&&e.push(t)})),D(e),R(A)}),[s,l]),Object(m.jsxs)("div",{children:[Object(m.jsx)(v.a,{open:t,onClose:function(){return n(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-permission",children:Object(m.jsxs)(h.a,{sx:B,className:"taskModal",children:[Object(m.jsx)("h3",{children:"Remove User"}),Object(m.jsx)("div",{className:"newUserModalHeader",children:Object(m.jsx)(p.a,{select:!0,defaultValue:j,label:j||"User",style:{width:"100%"},children:null===T||void 0===T?void 0:T.map((function(e){return Object(m.jsx)(z.a,{onClick:function(t){return u(e.email)},children:e.email})}))})}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{className:"taskModalButtons",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)(x.a,{variant:"contained",color:"primary",onClick:function(){if(""==(null===j||void 0===j?void 0:j.trim()))return w(!0),void C("email its empty.");O.delete("/planner/removeUser",{params:{user:j,userId:c,plannerId:i}}).then((function(e){e.data.error?(w(!0),C(e.data.error)):M()})).catch((function(e){w(!0),C(e)}))},children:"Confirm"}),Object(m.jsx)(x.a,{variant:"contained",color:"secondary",onClick:M,children:"cancel"})]}),Object(m.jsx)("div",{})]})]})}),Object(m.jsx)(g,{status:k,setStatus:w,info:N})]})}var Q=n(23);function X(e){var t=e.status,n=e.setStatus,i=e.plannerId,c=Object(a.useState)(650),s=Object(r.a)(c,2),l=s[0],o=s[1],d=Object(a.useState)(),j=Object(r.a)(d,2),u=j[0],b=j[1],f=Object(a.useState)(!0),k=Object(r.a)(f,2),w=k[0],S=k[1],y=Object(a.useState)(),N=Object(r.a)(y,2),C=N[0],I=N[1],E=Object(a.useState)(),T=Object(r.a)(E,2),D=T[0],P=T[1],A=Object(a.useRef)(null),R=Object(a.useContext)(W),U=R.userInfoContext;R.setUserInfoContext;Object(a.useEffect)((function(){window.screen.width<650&&o(window.screen.width-10),U.planners.forEach((function(e){e.plannerId===i&&b(e.name)}))}),[U,i]),window.addEventListener("resize",(function(e){e.target.innerWidth<650?o(e.target.innerWidth-20):o(650)}));var L={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:l,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function _(){n(!1)}return Object(m.jsxs)("div",{children:[Object(m.jsx)(v.a,{open:t,onClose:_,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(m.jsxs)(h.a,{sx:L,children:[Object(m.jsx)("h3",{children:"LEAVING PLANNER"}),Object(m.jsx)("br",{}),Object(m.jsx)("p",{children:" are you sure that you want to abandon this planner, you will lost the acess to the tasks, graphics, users and stages. the only way to get back the acess, is beeing added again."}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsxs)("h2",{children:["write the name of the planner: ",Object(m.jsx)("span",{style:{color:"red"},children:u})]}),Object(m.jsx)("br",{}),Object(m.jsx)(p.a,{id:"input-with-sx",variant:"standard",ref:A,fullWidth:!0,type:"planner",onChange:function(){var e,t;S((null===(e=A.current)||void 0===e||null===(t=e.children[0])||void 0===t?void 0:t.children[0].value.trim())!=u)}}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(m.jsx)(x.a,{variant:"contained",color:"secondary",onClick:function(){var e,t;(null===(e=A.current)||void 0===e||null===(t=e.children[0])||void 0===t?void 0:t.children[0].value.trim())==u&&O.post("/user/leavePlaner",{email:null===U||void 0===U?void 0:U.email,userId:localStorage.getItem("UserId"),plannerId:i}).then((function(e){e.data.error?(P(e.data.error),I(!0)):(Object(Q.a)().push("/planner-task/profile"),document.location.reload())}))},disabled:w,children:"Leave"}),Object(m.jsx)(x.a,{variant:"contained",color:"primary",onClick:_,children:"Cancel"})]})]})}),Object(m.jsx)(g,{status:C,setStatus:I,info:D})]})}var $=function(){localStorage.clear(),Object(Q.a)().push("/planner-task/"),document.location.reload()};var ee=function(e){var t=e.users,n=e.userId,i=e.plannerId,c=e.userEmail,s=e.planner,j=e.getUserTasks,u=e.participantEmail,b=Object(a.useState)(null),O=Object(r.a)(b,2),h=O[0],p=O[1],f=Object(a.useState)(null),v=Object(r.a)(f,2),g=v[0],k=v[1],w=Object(a.useState)(),S=Object(r.a)(w,2),y=S[0],N=S[1],C=Object(a.useState)(),I=Object(r.a)(C,2),E=I[0],T=I[1],D=Object(a.useState)(),P=Object(r.a)(D,2),W=P[0],A=P[1],R=Object(a.useState)(),U=Object(r.a)(R,2),L=U[0],H=U[1],B=Object(a.useState)(),M=Object(r.a)(B,2),F=M[0],V=M[1];Object(a.useEffect)((function(){V(t),N([Object(m.jsx)(z.a,{onClick:function(){return T(!0)},children:" add new User "}),Object(m.jsx)(z.a,{onClick:function(){return A(!0)},children:" remove User "}),Object(m.jsxs)(z.a,{onClick:q,children:[" ",Object(m.jsx)("span",{style:{color:"red"},children:"Leave Planner"})," "]}),Object(m.jsxs)(z.a,{children:[" ",Object(m.jsx)(d.b,{to:"/planner-task/planner/id=".concat(i,"/info"),children:" Info"})]})])}),[i,t]);var q=function(){H(!0)};return _("currentUsers",(function(e){V(e)})),Object(m.jsxs)("div",{className:"navHeader",children:[Object(m.jsx)("p",{children:Object(m.jsx)(d.b,{to:"../../planner-task/profile",children:"Profile"})}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("span",{children:[Object(m.jsx)(x.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){k(e.currentTarget)},children:Object(m.jsx)(o.a,{icon:l.n,style:{fontSize:"25px"}})}),Object(m.jsx)(Y.a,{id:"simple-menu",anchorEl:g,keepMounted:!0,open:Boolean(g),onClose:function(){k(null)},children:null===F||void 0===F?void 0:F.map((function(e){return Object(m.jsx)(z.a,{onClick:function(){return t=e,void(s&&(j(!0),u(null===t||void 0===t?void 0:t.email)));var t},children:e.name})}))})]}),Object(m.jsxs)("span",{children:[Object(m.jsx)(x.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){p(e.currentTarget)},children:Object(m.jsx)(o.a,{icon:l.c,style:{fontSize:"25px"},className:"rotating"})}),Object(m.jsxs)(Y.a,{id:"simple-menu",anchorEl:h,keepMounted:!0,open:Boolean(h),onClose:function(){p(null)},children:[y,Object(m.jsx)(z.a,{onClick:$,children:"Logout"})]})]}),Object(m.jsx)(K,{status:E,setStatus:T,plannerId:i,userId:n}),Object(m.jsx)(Z,{status:W,setStatus:A,plannerId:i,userList:F,userId:n,userEml:c}),Object(m.jsx)(X,{status:L,setStatus:H,plannerId:i})]})]})};function te(e){var t=e.delTaskStatus,n=e.taskId,i=e.setDelTaskStatus,c=Object(a.useState)(!1),s=Object(r.a)(c,2),l=s[0],o=s[1],d=Object(a.useState)(""),j=Object(r.a)(d,2),u=j[0],b=j[1],p=Object(a.useState)(650),f=Object(r.a)(p,2),k=f[0],w=f[1];Object(a.useEffect)((function(){window.screen.width<650&&w(window.screen.width-10)}),[]),window.addEventListener("resize",(function(e){e.target.innerWidth<650?w(e.target.innerWidth-20):w(650)}));var S={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:k,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function y(){i(!1)}return Object(m.jsxs)("div",{children:[Object(m.jsx)(v.a,{open:t,onClose:y,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(m.jsxs)(h.a,{sx:S,children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("h4",{children:"Are you sure you want to delete this task?"}),Object(m.jsx)("br",{}),Object(m.jsxs)("p",{children:[Object(m.jsx)("strong",{children:"OBS.:"})," within the next 7 days, you can still retrieve this task back, if that time runs out, it cannot be retrieved again. "]}),Object(m.jsx)("br",{}),Object(m.jsx)("hr",{}),Object(m.jsx)("br",{})]}),Object(m.jsxs)("div",{className:"taskModalButtons",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)(x.a,{variant:"contained",color:"secondary",onClick:function(){O.delete("task/delTask",{params:{taskId:n}}).then((function(e){e.data.error?(o(!0),b(e.data.error)):y()})).catch((function(e){o(!0),b(e)}))},children:"  delete this Task"}),Object(m.jsx)(x.a,{variant:"contained",color:"primary",onClick:y,children:"cancel"})]}),Object(m.jsx)("div",{})]})]})}),Object(m.jsx)(g,{status:l,setStatus:o,info:u})]})}function ne(e){var t,n,i=e.status,c=e.setStatus,s=e.taskId,d=e.users,j=Object(a.useState)(),u=Object(r.a)(j,2),b=u[0],f=u[1],k=Object(a.useState)(),w=Object(r.a)(k,2),S=w[0],y=w[1],N=Object(a.useState)(),C=Object(r.a)(N,2),I=C[0],E=C[1],T=Object(a.useState)(),D=Object(r.a)(T,2),P=D[0],W=D[1],A=Object(a.useState)(),R=Object(r.a)(A,2),U=(R[0],R[1],Object(a.useState)(!1)),L=Object(r.a)(U,2),_=L[0],H=L[1],B=Object(a.useState)(!1),M=Object(r.a)(B,2),q=M[0],J=M[1],Y=Object(a.useState)(!1),K=Object(r.a)(Y,2),Z=K[0],Q=K[1],X=Object(a.useState)(!1),$=Object(r.a)(X,2),ee=$[0],ne=$[1],ae=Object(a.useState)(!1),ie=Object(r.a)(ae,2),ce=ie[0],se=ie[1],re=Object(a.useState)(!1),le=Object(r.a)(re,2),oe=le[0],de=le[1],je=Object(a.useState)(!1),ue=Object(r.a)(je,2),be=(ue[0],ue[1]),Oe=Object(a.useRef)(null),he=Object(a.useState)(""),pe=Object(r.a)(he,2),xe=pe[0],fe=pe[1],ve=Object(a.useState)(""),me=Object(r.a)(ve,2),ge=me[0],ke=me[1],we=Object(a.useState)([]),Se=Object(r.a)(we,2),ye=Se[0],Ne=Se[1],Ce=Object(a.useState)(),Ie=Object(r.a)(Ce,2),Ee=(Ie[0],Ie[1]),Te=Object(a.useState)(650),De=Object(r.a)(Te,2),Pe=De[0],We=De[1];Object(a.useEffect)((function(){window.screen.width<650&&We(window.screen.width-10)}),[]),window.addEventListener("resize",(function(e){e.target.innerWidth<650?We(e.target.innerWidth-20):We(650)}));var Ae={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:Pe,boxShadow:24,padding:"0px"};function Re(){Ne([]),Ee(""),ke(""),fe(""),c(!1),se(!1),Q(!1),de(!1),ne(!1)}function Ue(e){e===b.status?ne(!1):(ne(!0),f({_id:b._id,CreatedAt:b.CreatedAt,plannerId:b.plannerId,StageId:b.StageId,accountable:b.accountable,description:b.description,title:b.title,status:e}))}return Object(a.useEffect)((function(){O.get("/task",{params:{taskId:s}}).then((function(e){f(e.data),fe(e.data.description),ke(e.data.title),Ne(e.data.accountable),Ee(e.data.taskStatus)})).catch((function(e){E(!0),y(e)}))}),[i]),Object(a.useEffect)((function(){P||Re()}),[P]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{children:Object(m.jsx)(v.a,{open:i,onClose:function(){return c(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(m.jsx)(h.a,{sx:Ae,children:Object(m.jsxs)("div",{className:"taskModal",children:[Object(m.jsxs)("div",{className:"taskModalHeader ".concat(null===b||void 0===b?void 0:b.status),children:[Object(m.jsx)("div",{children:Object(m.jsxs)("p",{children:[Object(m.jsx)("span",{className:"pencil",onClick:function(){return J(!q)},children:Object(m.jsx)(o.a,{icon:l.g})}),"\xa0\xa0",q?Object(m.jsx)(p.a,{id:"standard-size-small",defaultValue:null===b||void 0===b?void 0:b.title,size:"medium",variant:"standard",onChange:function(e){f((function(){if(b){var t=b;return t.title=e.target.value,t}})),ge!==(null===b||void 0===b?void 0:b.title)?Q(!0):Q(!1)}}):(null===b||void 0===b||null===(t=b.title)||void 0===t?void 0:t.length)<=35?Object(m.jsx)("h3",{children:null===b||void 0===b?void 0:b.title}):Object(m.jsx)(F.a,{title:null===b||void 0===b?void 0:b.title,placement:"top-end",children:Object(m.jsx)("h3",{children:V(null===b||void 0===b?void 0:b.title,35)})})]})}),Object(m.jsxs)("div",{children:[G(null===b||void 0===b?void 0:b.CreatedAt)[0],"\xa0\xa0",G(null===b||void 0===b?void 0:b.CreatedAt)[1]]})]}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{className:"taskModalBody",children:[Object(m.jsxs)("div",{className:"accountableList",children:[Object(m.jsx)("div",{children:null===b||void 0===b||null===(n=b.accountable)||void 0===n?void 0:n.map((function(e){return Object(m.jsx)("div",{children:Object(m.jsxs)("span",{className:"accountable",children:[Object(m.jsx)("span",{children:e}),"\xa0\xa0 ",Object(m.jsx)("span",{className:e,onClick:function(){return function(e){var t=[];void 0!==(null===b||void 0===b?void 0:b.accountable)&&(null===b||void 0===b||b.accountable.forEach((function(n){n!==e&&t.push(n)})),f({_id:b._id,CreatedAt:b.CreatedAt,plannerId:b.plannerId,StageId:b.StageId,accountable:t,description:b.description,title:b.title,status:b.status}),de(ye!==t))}(e)},children:Object(m.jsx)(o.a,{icon:l.j})})]})})}))}),Object(m.jsx)("div",{children:Object(m.jsxs)(p.a,{select:!0,label:"status "+(null===b||void 0===b?void 0:b.status),fullWidth:!0,helperText:"Please select the status for this task.",children:[Object(m.jsx)(z.a,{onClick:function(){return Ue("none")},className:"none",children:"none"}),Object(m.jsx)(z.a,{onClick:function(){return Ue("waiting more details")},className:"waiting more details",children:"waiting more details"}),Object(m.jsx)(z.a,{onClick:function(){return Ue("progressing")},className:"progressing",children:"progressing"}),Object(m.jsx)(z.a,{onClick:function(){return Ue("interrupted")},className:"interrupted",children:"interrupted"}),Object(m.jsx)(z.a,{onClick:function(){return Ue("priority")},className:"priority",children:"priority"})]})})]}),Object(m.jsx)(p.a,{select:!0,label:"accountable",fullWidth:!0,helperText:"Please select the accountable for this task.",children:null===d||void 0===d?void 0:d.map((function(e){return Object(m.jsx)(z.a,{onClick:function(t){var n;if(-1===(null===b||void 0===b||null===(n=b.accountable)||void 0===n?void 0:n.indexOf(e.email))){var a=b.accountable;a.concat(e.email)!==ye?(a.push(e.email),de(!0)):de(!1),f({_id:b._id,CreatedAt:b.CreatedAt,plannerId:b.plannerId,StageId:b.StageId,accountable:a,description:b.description,title:b.title,status:b.status})}},children:e.name})}))}),Object(m.jsxs)("span",{children:[Object(m.jsxs)("span",{className:"pencil",onClick:function(){return H(!_)},children:[Object(m.jsx)(o.a,{icon:l.g})," description"]}),Object(m.jsx)("br",{}),_?Object(m.jsx)(p.a,{id:"outlined-multiline-static",fullWidth:!0,multiline:!0,ref:Oe,defaultValue:null===b||void 0===b?void 0:b.description,onChange:function(e){f((function(){if(b){var t=b;return t.description=e.target.value,t}})),xe!==e.target.value?se(!0):se(!1)}}):Object(m.jsx)("span",{children:null===b||void 0===b?void 0:b.description})]}),Object(m.jsx)("span",{})]}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{className:"taskModalButtons",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)(x.a,{variant:"contained",color:"primary",onClick:function(){return ee||Z||ce||oe?void O.put("/task/update",{params:{updatedTask:b}}).then((function(e){e.data.error?(E(!0),y(e.data.error)):(J(!1),H(!1),be(!1),Re())})):Re()},children:ee||Z||ce||oe?"Update":"Ok"}),ee||Z||ce||oe?Object(m.jsx)(x.a,{variant:"contained",color:"secondary",onClick:Re,children:"Cancel"}):""]}),Object(m.jsx)("div",{children:Object(m.jsx)(o.a,{icon:l.k,onClick:function(){return W(!0)}})})]})]})})})}),Object(m.jsx)(te,{delTaskStatus:P,taskId:s,setDelTaskStatus:W}),Object(m.jsx)(g,{status:I,setStatus:E,info:S})]})}var ae=function(e){var t,n=e.info,i=e.classN,c=e.refe,s=e.users,l=Object(a.useState)(),o=Object(r.a)(l,2),d=o[0],j=o[1],u=Object(a.useState)(),b=Object(r.a)(u,2),O=(b[0],b[1]),h=Object(a.useState)(!1),p=Object(r.a)(h,2),x=p[0],f=p[1],v=Object(a.useState)(),g=Object(r.a)(v,2),k=g[0],w=g[1];return Object(a.useEffect)((function(){var e=new Date(n.CreatedAt),t=e.getFullYear(),a=e.getMonth(),i=e.getDate(),c=e.getHours(),s=e.getMinutes();O("".concat(c,":").concat(s)),j("".concat(t,"-").concat(a,"-").concat(i))}),[n]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",Object(E.a)(Object(E.a)(Object(E.a)({className:i,ref:null===c||void 0===c?void 0:c.innerRef},null===c||void 0===c?void 0:c.draggableProps),null===c||void 0===c?void 0:c.dragHandleProps),{},{onClick:function(){return function(e){f(!0),w(e)}(n._id)},children:Object(m.jsxs)("div",{className:"taskCard  ".concat(n.status),id:n._id,children:[Object(m.jsx)(F.a,{title:(null===(t=n.title)||void 0===t?void 0:t.length)>=25?Object(m.jsx)("span",{style:{fontSize:"16px"},children:n.title}):"",children:Object(m.jsx)("strong",{children:n.title?V(n.title,25):"..."})}),Object(m.jsx)("span",{children:n.description?V(n.description,25):"..."}),Object(m.jsx)("span",{children:G(d,!0)})]})})),Object(m.jsx)(ne,{status:x,setStatus:f,taskId:k,users:s})]})},ie=(n(120),n(255)),ce=n(249),se=n(251);var re=function(e){var t,n=e.planners,a=i.a.useState({left:!1}),c=Object(r.a)(a,2),s=c[0],d=c[1],j=function(e,t){return function(n){(!n||"keydown"!==n.type||"Tab"!==n.key&&"Shift"!==n.key)&&d(Object(E.a)(Object(E.a)({},s),{},Object(I.a)({},e,t)))}};return Object(m.jsxs)("div",{className:"plannerListBars",children:[Object(m.jsx)(x.a,{onClick:j("left",!0),children:Object(m.jsx)(o.a,{icon:l.b,color:"white",style:{fontSize:"20px"}})}),Object(m.jsx)(ie.a,{open:s.left,onClose:j("left",!1),onOpen:j("left",!0),children:(t="left",Object(m.jsxs)("div",{className:"list",role:"presentation",onClick:j(t,!1),onKeyDown:j(t,!1),style:{width:"250px"},children:[Object(m.jsx)(ce.a,{children:Object(m.jsx)("div",{className:"SideNav",children:n})}),Object(m.jsx)(se.a,{})]}))})]})};var le=function(e){var t=e.plannerInfo,n=Object(a.useContext)(W),i=n.userInfoContext,c=n.setUserInfoContext,s=Object(a.useState)([]),l=Object(r.a)(s,2),o=l[0],j=l[1];return Object(a.useEffect)((function(){var e;j([]),j([Object(m.jsx)("span",{children:t})]),null===i||void 0===i||null===(e=i.planners)||void 0===e||e.forEach((function(e){j((function(t){var n;return[].concat(Object(T.a)(t),[Object(m.jsx)("div",{className:"plannerItem",children:Object(m.jsx)(F.a,{title:(null===(n=e.name)||void 0===n?void 0:n.length)>12?e.name:"",placement:"top-end",children:Object(m.jsx)(d.b,{to:"../../planner-task/planner/id=".concat(e.plannerId),children:V(e.name,15)},e.plannerId)})})])}))}))}),[i,c,t]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"plannerList",children:[Object(m.jsx)("div",{children:Object(m.jsx)("br",{})}),Object(m.jsx)("div",{children:o})]}),Object(m.jsx)(re,{planners:o})]})};var oe=function(e){var t,n=e.props,i=Object(a.useContext)(W),c=i.userInfoContext,s=(i.setUserInfoContext,Object(a.useState)("")),d=Object(r.a)(s,2),j=d[0],u=d[1],b=Object(a.useState)(!1),h=Object(r.a)(b,2),p=(h[0],h[1],Object(a.useState)(!1)),x=Object(r.a)(p,2),f=x[0],v=x[1],k=Object(a.useState)(),w=Object(r.a)(k,2),S=w[0],y=w[1],P=Object(a.useState)(!1),A=Object(r.a)(P,2),U=A[0],L=A[1],z=Object(a.useState)(!1),F=Object(r.a)(z,2),V=F[0],G=F[1],Y=Object(a.useState)(!1),K=Object(r.a)(Y,2),Z=K[0],X=K[1],$=Object(a.useState)(),te=Object(r.a)($,2),ne=te[0],ie=te[1],ce=Object(a.useState)(""),se=Object(r.a)(ce,2),re=se[0],oe=se[1],de=Object(a.useState)(""),je=Object(r.a)(de,2),ue=je[0],be=je[1],Oe=Object(a.useState)(),he=Object(r.a)(Oe,2),pe=he[0],xe=he[1],fe=Object(a.useState)(),ve=Object(r.a)(fe,2),me=ve[0],ge=ve[1],ke=Object(a.useState)(),we=Object(r.a)(ke,2),Se=we[0],ye=we[1],Ne=Object(a.useState)({}),Ce=Object(r.a)(Ne,2),Ie=Ce[0],Ee=Ce[1];function Te(e){O.put("/task/updateTaskPosition",{params:{columns:e,plannerId:j,userId:null===c||void 0===c?void 0:c._id}})}function De(e){return Pe.apply(this,arguments)}function Pe(){return(Pe=Object(C.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(t).then((function(e){var n;if(!e.data.error)return Ee(null===(n=e.data.planner)||void 0===n?void 0:n.stages),u(e.data.planner._id),xe(e.data.planner.users),H("exitRoom",{plannerId:e.data.planner._id}),H("joinRoom",{plannerId:e.data.planner._id,userId:null===c||void 0===c?void 0:c._id}),ie(Object(m.jsx)("h1",{className:"title",onClick:function(){return De(t)},children:e.data.planner.name})),e;G(!0),ye(e.data.error),Object(Q.a)().push("/planner-task/profile"),document.location.reload()})).then((function(e){e.data.error&&(G(!0),ye(e.data.error),Object(Q.a)().push("/planner-task/profile"),document.location.reload())})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){var e=window.location.pathname,t=e.search("=")+1,n=e.length;De(e.substring(t,n)).catch((function(e){G(!0),ye(e)}))}),[n.match.params.id]),Object(a.useEffect)((function(){B("changeTask"),B("updateTaskInfo"),B("newTask"),B("currentUsers"),B("delTask"),B("restoreTask"),_("delTask",(function(e){var t=e.task;Ee(t)})),_("changeTask",(function(e){Ee(e)})),_("updateTaskInfo",(function(e,t){Ee(e.columns)})),_("newTask",(function(e){void 0!==(null===c||void 0===c?void 0:c._id)&&e.userId!==(null===c||void 0===c?void 0:c._id)&&(y(!0),ge(e)),Ee(e.columns)})),_("currentUsers",(function(e){xe(e)})),_("restoreTask",(function(e){var t=e.tasksRestored;t&&Ee(t)}))}),[null===c||void 0===c?void 0:c._id]),Object(a.useEffect)((function(){Z&&O.get("task/usersTasks",{params:{plannerId:j,userEmail:re}}).then((function(e){Ee(e.data.planner.stages),X(!0)}))}),[j,re]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(ee,{users:pe,plannerId:j,userId:null===c||void 0===c?void 0:c._id,userEmail:null===c||void 0===c?void 0:c.email,planner:!0,getUserTasks:X,participantEmail:oe,plannerInfo:ne}),Object(m.jsxs)("div",{style:{display:"flex",height:"calc(100%  - 80px)",width:"100%"},children:[Object(m.jsx)(le,{plannerInfo:ne}),Object(m.jsx)("div",{className:"stage",children:Object(m.jsx)(D.a,{onDragEnd:function(e){return function(e,t,n){if(e.destination){var a=e.source,i=e.destination;if(a.droppableId!==i.droppableId){var c,s=t[a.droppableId],l=t[i.droppableId],o=Object(T.a)(s.tasks),d=Object(T.a)(l.tasks),j=o.splice(a.index,1),u=Object(r.a)(j,1)[0];d.splice(i.index,0,u),Te(Object(E.a)(Object(E.a)({},t),{},(c={},Object(I.a)(c,a.droppableId,Object(E.a)(Object(E.a)({},s),{},{tasks:o})),Object(I.a)(c,i.droppableId,Object(E.a)(Object(E.a)({},l),{},{tasks:d})),c)))}else{var b=t[a.droppableId],O=Object(T.a)(b.tasks),h=O.splice(a.index,1),p=Object(r.a)(h,1)[0];O.splice(i.index,0,p),Te(Object(E.a)(Object(E.a)({},t),{},Object(I.a)({},a.droppableId,Object(E.a)(Object(E.a)({},b),{},{tasks:O}))))}}}(e,Ie)},children:null===(t=Object.entries(Ie))||void 0===t?void 0:t.map((function(e,t){var n=Object(r.a)(e,2),a=n[0],i=n[1];return Object(m.jsx)("div",{className:i._id+" column",children:Object(m.jsx)(D.c,{droppableId:a,direction:"vertical",children:function(e,t){return Object(m.jsxs)("div",Object(E.a)(Object(E.a)({},e.droppableProps),{},{ref:e.innerRef,className:t.isDraggingOver?"lightblue":"",children:[Object(m.jsxs)("div",{className:"columnHeader",children:[Object(m.jsxs)("span",{onClick:function(){return e=!0,t=i._id,L(e),void be(t);var e,t},children:[Object(m.jsx)(o.a,{icon:l.h})," New Task"]}),Object(m.jsx)("span",{children:i.StageName})]}),Object(m.jsx)("div",{className:"columnBody",children:i.tasks.map((function(e,t){return Object(m.jsx)(D.b,{draggableId:e._id,index:t,children:function(t,n){return Object(m.jsx)(ae,{info:e,classN:n.isDragging?"dragging Task":"Tasks",refe:t,users:pe})}},e._id)}))}),e.placeholder]}))}},a)},a)}))})}),Object(m.jsx)(M,{status:f,setStatus:v,plannerId:j}),Object(m.jsx)(q,{getUsers:pe,status:U,setStatus:L,Columnid:ue,plannerId:j}),Object(m.jsx)(J,{status:S,setStatus:y,info:me}),Object(m.jsx)(g,{status:V,setStatus:G,info:Se})]})]})};n(205);function de(e){var t=e.status,n=e.setStatus,i=e.taskId,c=Object(a.useState)(650),s=Object(r.a)(c,2),l=s[0],o=s[1],d=Object(a.useState)(!1),j=Object(r.a)(d,2),u=j[0],b=j[1],p=Object(a.useState)(),f=Object(r.a)(p,2),k=f[0],w=f[1];Object(a.useEffect)((function(){window.screen.width<650&&o(window.screen.width-10)}),[]);var S={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:l,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function y(){n(!1)}return window.addEventListener("resize",(function(e){e.target.innerWidth<650?o(e.target.innerWidth-20):o(650)})),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{children:Object(m.jsx)(v.a,{open:t,onClose:y,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(m.jsxs)(h.a,{sx:S,className:"taskModal",children:[Object(m.jsx)("h3",{children:" Delete Task "}),Object(m.jsx)("p",{children:" Are you sure that you want delete this task. Won't be possible get this task back."}),Object(m.jsx)("hr",{}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{children:[Object(m.jsx)(x.a,{variant:"contained",color:"primary",onClick:function(){O.delete("/task/confirmDelTask",{params:{taskId:i}}).then((function(e){if(e.data.error)return w(e.data.error),void b(!0);y()})).catch((function(e){w(e),b(!0),y()}))},children:"Confirm"}),Object(m.jsx)(x.a,{variant:"contained",color:"secondary",onClick:y,children:"cancel"})]})]})})}),Object(m.jsx)(g,{status:u,setStatus:b,info:k})]})}function je(e){var t=e.status,n=e.setStatus,i=e.taskId,c=Object(a.useState)(650),s=Object(r.a)(c,2),l=s[0],o=s[1];Object(a.useEffect)((function(){window.screen.width<650&&o(window.screen.width-10)}),[]);var d={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:l,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function j(){n(!1)}return window.addEventListener("resize",(function(e){e.target.innerWidth<650?o(e.target.innerWidth-20):o(650)})),Object(m.jsx)("div",{children:Object(m.jsx)(v.a,{open:t,onClose:j,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(m.jsxs)(h.a,{sx:d,className:"taskModal",children:[Object(m.jsx)("h3",{children:" Restore Task "}),Object(m.jsx)("p",{children:" Are you sure that you want restore this task.it will be back to the planner in the same stage."}),Object(m.jsx)("hr",{}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{children:[Object(m.jsx)(x.a,{variant:"contained",color:"primary",onClick:function(){O.post("/task/restoreTask",{params:{taskId:i}}).then((function(e){j()}))},children:"Confirm"}),"\xa0\xa0",Object(m.jsx)(x.a,{variant:"contained",color:"secondary",onClick:j,children:"cancel"})]})]})})})}var ue=n(72);ue.a.register.apply(ue.a,Object(T.a)(ue.b));var be=function(){var e=Object(a.useRef)(null),t=Object(a.useContext)(W),n=t.userInfoContext,i=(t.setUserInfoContext,Object(a.useState)()),c=Object(r.a)(i,2),s=c[0],j=c[1],u=Object(a.useState)(),b=Object(r.a)(u,2),O=b[0],h=b[1],p=Object(a.useState)(),f=Object(r.a)(p,2),v=f[0],g=f[1],k=Object(a.useState)(),w=Object(r.a)(k,2),S=w[0],y=w[1],N=Object(a.useState)(),C=Object(r.a)(N,2),I=C[0],E=C[1],T=Object(a.useState)(),D=Object(r.a)(T,2),P=D[0],A=D[1],U=Object(a.useState)(),L=Object(r.a)(U,2),M=L[0],z=L[1],F=Object(a.useState)({none:0,interrupted:0,"waiting more details":0,priority:0,progressing:0}),q=Object(r.a)(F,2),J=q[0],Y=q[1];return Object(a.useEffect)((function(){var e={none:0,interrupted:0,"waiting more details":0,priority:0,progressing:0},t=window.location.pathname,n=t.search("=")+1,a=null===t||void 0===t?void 0:t.lastIndexOf("/");R(t.substring(n,a)).then((function(t){var n,a,i,c,s;H("exitRoom",{plannerId:null===(n=t.data.planner)||void 0===n?void 0:n._id}),H("joinRoom",{plannerId:null===(a=t.data.planner)||void 0===a?void 0:a._id}),h(null===(i=t.data.planner)||void 0===i?void 0:i._id),y(t.data.planner),g(t.data.delList),j(null===(c=t.data.planner)||void 0===c?void 0:c.users),null===(s=t.data.planner)||void 0===s||s.stages.forEach((function(t){t.tasks.length>0&&t.tasks.forEach((function(t){void 0===t.status&&(e.none=e.none+1),"interrupted"===t.status&&(e.interrupted=e.interrupted+1),"waiting more details"===t.status&&(e["waiting more details"]=e["waiting more details"]+1),"priority"===t.status&&(e.priority=e.priority+1),"progressing"===t.status&&(e.progressing=e.progressing+1),"none"===t.status&&(e.none=e.none+1)}))})),Y(e)}))}),[n]),Object(a.useEffect)((function(){B("deletedTask"),B("restoreTask"),B("delTask"),B("updateTaskInfo"),B("currentUsers"),_("deletedTask",(function(e){g(e)})),_("restoreTask",(function(e){var t=e.graphValues,n=e.task;console.log(n),g(n),Y(t)})),_("delTask",(function(e){var t=e.graphValues,n=e.deletedTask;Y(t),g(n)})),_("updateTaskInfo",(function(e){Y(e.graphValues)})),_("currentUsers",(function(e){j(e)}))}),[]),Object(a.useEffect)((function(){var t=null===e||void 0===e?void 0:e.current.getContext("2d"),n=new ue.a(t,{type:"doughnut",data:{labels:Object.keys(J),datasets:[{label:"My First Dataset",data:Object.values(J),backgroundColor:["#456C86","#ad88ac","#b4c237","#994040","#62b83a"],hoverOffset:4}]},options:{responsive:!0,maintainAspectRatio:!0}});return function(){n.destroy()}}),[J]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(ee,{users:s,plannerId:O,userId:null===n||void 0===n?void 0:n._id,userEmail:null===n||void 0===n?void 0:n.email}),Object(m.jsxs)("div",{style:{display:"flex",width:"100%",height:"calc(100% - 80px)"},children:[Object(m.jsx)(le,{}),Object(m.jsxs)("div",{className:"infoPage",children:[Object(m.jsxs)(d.b,{to:"../id=".concat(O),children:[Object(m.jsx)("h2",{children:null===S||void 0===S?void 0:S.name}),Object(m.jsx)("br",{})]}),Object(m.jsxs)("p",{children:["created at: ",G(null===S||void 0===S?void 0:S.CreatedAt,!0)]}),Object(m.jsx)("p",{children:null===S||void 0===S?void 0:S.desciption}),"tasks oppened: ",Object.values(J).reduce((function(e,t){return e+t})),Object(m.jsxs)("div",{children:[void 0!==Object.values(J).find((function(e){return 0!==e}))?"":Object(m.jsx)("h4",{children:"No Task at this planner"}),Object(m.jsx)("div",{className:"graph",children:Object(m.jsx)("canvas",{className:"myChart",ref:e,"aria-label":"Graph"})}),Object(m.jsxs)("div",{children:[Object(m.jsx)("br",{}),Object(m.jsxs)("div",{className:"deletedList",children:[Object(m.jsxs)("h3",{children:["Deleted Tasks: ",null===v||void 0===v?void 0:v.length]}),Object(m.jsx)("div",{children:null===v||void 0===v?void 0:v.map((function(e){return Object(m.jsxs)("div",{className:"deletedTask ".concat(e.status?e.status:"none"),id:e._id,children:[Object(m.jsx)("h4",{children:e.title?V(e.title,15):"..."}),Object(m.jsx)("p",{children:G(e.deletedAt,!0)}),Object(m.jsx)("p",{children:e.status?e.status:"none"}),Object(m.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(m.jsxs)(x.a,{onClick:function(){return function(e){z(e),E(!0)}(e._id)},children:[" ",Object(m.jsx)(o.a,{icon:l.k,color:"white",style:{fontSize:"20px"}})]}),Object(m.jsxs)(x.a,{onClick:function(){return function(e){z(e),A(!0)}(e._id)},children:[" ",Object(m.jsx)(o.a,{icon:l.l,color:"white",style:{fontSize:"20px"}})]})]})]})}))})]})]})]})]})]}),Object(m.jsx)(de,{status:I,setStatus:E,taskId:M}),Object(m.jsx)(je,{status:P,setStatus:A,taskId:M})]})};n(206),n(207);var Oe=function(){return Object(m.jsxs)("header",{className:"navHeader",children:[Object(m.jsx)("p",{children:Object(m.jsx)("span",{children:Object(m.jsx)(d.b,{to:"/planner-task",children:"Home"})})}),Object(m.jsx)("div",{children:Object(m.jsx)(x.a,{onClick:function(){return $()},children:Object(m.jsx)(o.a,{icon:l.i,style:{fontSize:"30px"}})})})]})};n(208);var he=function(e){var t=e.isAuth,n=e.redirect,i=e.Comp,c=e.path,s=Object(a.useState)(),l=Object(r.a)(s,2),o=(l[0],l[1]);return Object(a.useEffect)((function(){void 0!==t&&o(t||!1)}),[t]),Object(m.jsx)(k.b,{path:c,render:function(e){if(void 0!==t)return t?Object(m.jsx)(i,{props:e,tabIndex:"0"}):Object(m.jsx)(k.a,{to:{pathname:n,state:{from:e.location}}})}})};var pe=function(){var e=Object(a.useContext)(W).userInfoContext,t=Object(a.useState)(),n=Object(r.a)(t,2),i=(n[0],n[1]);return Object(a.useEffect)((function(){i(e)}),[e]),Object(m.jsx)("main",{children:Object(m.jsx)(d.a,{children:Object(m.jsx)(k.d,{children:Object(m.jsx)(he,{path:"/planner-task/profile/",Comp:xe,isAuth:!0,redirect:"/planner-task"})})})})},xe=function(e){e.name,e.email;var t=Object(k.g)();var n=Object(a.useContext)(W).userInfoContext;return Object(a.useEffect)((function(){O.get("/task/userTasks",{params:{userEmail:null===n||void 0===n?void 0:n.email}})}),[]),Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{style:{marginTop:"10px"},children:["welcome, ",null===n||void 0===n?void 0:n.name]}),Object(m.jsx)("br",{}),Object(m.jsx)(x.a,{onClick:function(){t.push("/profile/newPlanner"),document.location.reload()},className:"link",style:{background:"rgb(14, 121, 28, 0.8)",color:"white",marginTop:"25px"},children:" Create New planner"})]})};var fe=function(){var e=Object(a.useContext)(W),t=(e.userInfoContext,e.setUserInfoContext),n=Object(a.useState)(),i=Object(r.a)(n,2);return i[0],i[1],Object(a.useEffect)((function(){P.then((function(e){setTimeout((function(){e.data.error?$():t(e.data)}),100)})).catch((function(e){$()}))}),[]),Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"profile",children:[Object(m.jsx)(Oe,{}),Object(m.jsxs)("div",{children:[Object(m.jsx)(le,{}),Object(m.jsx)(pe,{})]})]})})};function ve(e){var t=e.status,n=e.setStatus,i=e.email,c=e.token,s=e.setToken,d=Object(k.g)(),j=Object(a.useState)(),u=Object(r.a)(j,2),b=u[0],f=u[1],w=Object(a.useRef)(null),S=Object(a.useRef)(null),y=Object(a.useState)(!1),N=Object(r.a)(y,2),C=(N[0],N[1]),I=Object(a.useState)(),E=Object(r.a)(I,2),T=E[0],D=E[1],P=Object(a.useState)(),W=Object(r.a)(P,2),A=W[0],R=W[1],U=Object(a.useState)(650),L=Object(r.a)(U,2),_=L[0],H=L[1];Object(a.useEffect)((function(){window.screen.width<650&&H(window.screen.width-10)}),[]),window.addEventListener("resize",(function(e){e.target.innerWidth<650?H(e.target.innerWidth-20):H(650)}));var B={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:_,boxShadow:24,p:4};function M(){n(!1)}return Object(a.useEffect)((function(){f(i)}),[i]),Object(m.jsxs)("div",{children:[Object(m.jsx)(v.a,{open:t,onClose:M,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(m.jsxs)(h.a,{sx:B,className:"taskModal",children:[Object(m.jsx)("h3",{children:"Change Password"}),Object(m.jsx)("br",{}),Object(m.jsxs)("form",{action:"",onSubmit:function(e){return function(e){var t,n,a,i;e.preventDefault();var r=null===(t=w.current)||void 0===t||null===(n=t.children[1].children[0])||void 0===n?void 0:n.value.trim(),l=null===(a=S.current)||void 0===a||null===(i=a.children[1].children[0])||void 0===i?void 0:i.value.trim();if(r!==l)return D(!0),R("passwords are not compatible."),void C(!1);O.post("/auth/UpdatePassword",{email:b,token:c,password:{first:r,second:l}}).then((function(e){if(e.data.error)return D(!0),R(e.data.error),C(!1),void s("");alert("everything ok, make login again")})).then((function(){d.push("/planner-task/login"),document.location.reload(),M()})).catch((function(e){D(!0),R(e),C(!1)}))}(e)},children:[Object(m.jsx)("div",{className:"label",children:Object(m.jsxs)(h.a,{sx:{display:"flex",alignItems:"flex-end"},className:"input",children:[Object(m.jsx)(o.a,{icon:l.m}),Object(m.jsx)(p.a,{id:"input-with-sx",label:"Password",variant:"standard",ref:w,fullWidth:!0,type:"password"})]})}),Object(m.jsx)("div",{className:"label",children:Object(m.jsxs)(h.a,{sx:{display:"flex",alignItems:"flex-end"},className:"input",children:[Object(m.jsx)(o.a,{icon:l.m}),Object(m.jsx)(p.a,{id:"input-with-sx",label:"Repeat Password",variant:"standard",ref:S,fullWidth:!0,type:"password"})]})}),Object(m.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(m.jsx)(x.a,{variant:"contained",color:"primary",type:"submit",children:"Update Password"}),Object(m.jsx)(x.a,{variant:"contained",color:"primary",onClick:M,children:"cancel"})]})]}),Object(m.jsx)("br",{})]})}),Object(m.jsx)(g,{status:T,setStatus:D,info:A})]})}var me=function(){var e,t,n=Object(a.useRef)(null),i=Object(a.useRef)(null),c=Object(a.useRef)(null),s=Object(a.useState)(),j=Object(r.a)(s,2),u=j[0],b=j[1],f=Object(a.useState)(),v=Object(r.a)(f,2),k=v[0],w=v[1],S=Object(a.useState)(),y=Object(r.a)(S,2),N=y[0],C=y[1],I=Object(a.useState)(!1),E=Object(r.a)(I,2),T=E[0],D=E[1],P=Object(a.useState)(!1),W=Object(r.a)(P,2),A=W[0],R=W[1];return Object(a.useEffect)((function(){var e,t;null===(e=n.current)||void 0===e||null===(t=e.children[1].children[0])||void 0===t||t.select()}),[]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"HomePageHeader",children:[Object(m.jsx)(d.b,{to:"/planner-task",children:"Home Page"}),Object(m.jsxs)("div",{children:[Object(m.jsx)(d.b,{to:"/planner-task/login",children:"log in"}),Object(m.jsx)(d.b,{to:"/planner-task/register",children:"register"})]})]}),Object(m.jsx)("div",{className:"login",children:T?Object(m.jsxs)("div",{className:"form",children:[Object(m.jsx)("div",{children:Object(m.jsx)("span",{children:"Use your Token"})}),Object(m.jsxs)("form",{action:"",onSubmit:function(e){return function(e){var t,n,a,s;e.preventDefault();var r=null===(t=c.current)||void 0===t||null===(n=t.children[1].children[0])||void 0===n?void 0:n.value.trim(),l=null===(a=i.current)||void 0===a||null===(s=a.children[1].children[0])||void 0===s?void 0:s.value.trim().toLowerCase();C(l),""!==r&&""!==l&&O.post("/auth/confirmToken",{email:r,token:l}).then((function(e){e.data.error?(b(!0),w(e.data.error)):R(!0)})).catch((function(e){b(!0),w(e)}))}(e)},children:[Object(m.jsx)("div",{className:"label",children:Object(m.jsxs)(h.a,{sx:{display:"flex",alignItems:"flex-end"},className:"input",children:[Object(m.jsx)(o.a,{icon:l.n}),Object(m.jsx)(p.a,{id:"input-with-sx",label:"Email",variant:"standard",ref:c,fullWidth:!0,type:"email"})]})}),Object(m.jsx)("div",{className:"label",children:Object(m.jsxs)(h.a,{sx:{display:"flex",alignItems:"flex-end"},className:"input",children:[Object(m.jsx)(o.a,{icon:l.m}),Object(m.jsx)(p.a,{id:"input-with-sx",label:"Token",variant:"standard",ref:i,fullWidth:!0})]})}),Object(m.jsx)(x.a,{className:"loginButton",type:"submit",variant:"contained",color:"primary",children:"submit"}),"\xa0\xa0",Object(m.jsx)(x.a,{className:"loginButton",variant:"contained",color:"primary",onClick:function(){return D(!1)},children:"back"})]})]}):Object(m.jsxs)("div",{className:"form",children:[Object(m.jsx)("div",{children:Object(m.jsx)("span",{children:"A token will be sended to your email."})}),Object(m.jsxs)("form",{action:"",onSubmit:function(e){return function(e){var t,a,i,c;if(e.preventDefault(),""===(null===(t=n.current)||void 0===t||null===(a=t.children[1].children[0])||void 0===a?void 0:a.value.trim()))return w("Email its empty"),void b(!0);O.post("/auth/forgot",{email:null===(i=n.current)||void 0===i||null===(c=i.children[1].children[0])||void 0===c?void 0:c.value.trim()}).then((function(e){e.data.error?(w(e.data.error.error),b(!0)):D(!0)})).catch((function(e){w(e),b(!0)}))}(e)},children:[Object(m.jsx)("div",{className:"label",children:Object(m.jsxs)(h.a,{sx:{display:"flex",alignItems:"flex-end"},className:"input",children:[Object(m.jsx)(o.a,{icon:l.n}),Object(m.jsx)(p.a,{id:"input-with-sx",label:"Email",variant:"standard",ref:n,fullWidth:!0,type:"email"})]})}),Object(m.jsx)(x.a,{className:"loginButton",type:"submit",variant:"contained",color:"primary",children:"submit"}),"\xa0\xa0",Object(m.jsx)(x.a,{className:"loginButton",variant:"contained",color:"primary",onClick:function(){return D(!0)},children:"Use Token"})]})]})}),Object(m.jsx)(g,{status:u,setStatus:b,info:k}),Object(m.jsx)(ve,{status:A,setStatus:R,email:null===(e=c.current)||void 0===e||null===(t=e.children[1].children[0])||void 0===t?void 0:t.value.trim(),token:N,setToken:C})]})},ge=(n(209),n.p+"static/media/planner.1a013b59.svg"),ke=n.p+"static/media/task.55386f40.svg";n(210);var we=function(){return Object(m.jsx)("div",{className:"custom-shape-divider-bottom-1633726484",children:Object(m.jsx)("svg",{"data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1200 120",preserveAspectRatio:"none",children:Object(m.jsx)("path",{d:"M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z",className:"shape-fill"})})})},Se=n(95);var ye=function(){var e=Object(a.useState)(400),t=Object(r.a)(e,2),n=t[0],i=t[1];return Object(a.useEffect)((function(){window.screen.width<400&&i(window.screen.width-30)}),[]),window.addEventListener("resize",(function(e){window.screen.width<400?i(window.screen.width-30):i(400)})),Object(m.jsxs)("div",{className:"HomePage",children:[Object(m.jsxs)("div",{className:"HomePageHeader",children:[Object(m.jsx)(d.b,{to:"/planner-task/profile",children:"profile"}),Object(m.jsxs)("div",{children:[Object(m.jsx)(d.b,{to:"/planner-task/login",children:"log in"}),Object(m.jsx)(d.b,{to:"/planner-task/register",children:"register"})]})]}),Object(m.jsxs)("div",{className:"home",children:[Object(m.jsx)("h3",{children:"Just a simple Planner"}),Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{children:"inspired in the Microsoft Planner, this tool helps you  to create a  simple and visual way to organize work that is updated in real time for the entire team."}),Object(m.jsx)("img",{src:ke,alt:"",width:n,className:"iconAbout"})]}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("p",{children:["create and organize your demands and tasks according to your ",Object(m.jsx)("span",{className:"textTarget",children:" team's "})," needs."]}),Object(m.jsx)("img",{src:ge,alt:"",width:n,className:"iconAbout"}),Object(m.jsxs)("p",{children:["solutions and task changes will be ",Object(m.jsx)("span",{className:"textTarget",children:"updated in real time"}),", so even working ",Object(m.jsx)("span",{className:"textTarget",children:"remotely and concurrently"})," with other people, the planner will update to ",Object(m.jsx)("span",{className:"textTarget",children:"everyone"})," at the same time."]})]})]}),Object(m.jsxs)("div",{className:"bodyHome",children:[Object(m.jsxs)("div",{style:{position:"relative"},children:[Object(m.jsx)("div",{style:{position:"relative"},children:Object(m.jsx)(we,{})}),Object(m.jsxs)("div",{style:{marginTop:"-1px",background:"linear-gradient(180deg, rgba(47,41,112,1) 0%, rgba(23,18,69,1) 100%)"},children:[Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{})]}),Object(m.jsxs)("div",{style:{background:"#171245"},children:[Object(m.jsxs)("div",{className:"about",children:[Object(m.jsx)("h2",{children:"About"}),Object(m.jsxs)("span",{className:"my",children:['"Use my knowledge to improve and test my skills as a ',Object(m.jsx)("span",{className:"textTarget",children:"programmer"}),' ".\ud83d\ude80']}),Object(m.jsxs)("p",{children:["This project is part of my ",Object(m.jsxs)("a",{href:"https://gabrielp-oliveira.github.io/",target:"_blank",rel:"noreferrer",children:[" ",Object(m.jsx)("span",{className:"textTarget",children:"portfolio"})]}),", so feel free to get in touch for feedback on the code, structure or other reason that will help me become a better programmer!"]}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{children:[Object(m.jsx)("a",{href:"https://github.com/gabrielp-oliveira",target:"_blank",rel:"noreferrer",children:Object(m.jsx)(o.a,{icon:Se.a})}),Object(m.jsx)("a",{href:"https://www.linkedin.com/in/gabriel-97-oliveira",target:"_blank",rel:"noreferrer",children:Object(m.jsx)(o.a,{icon:Se.b})}),Object(m.jsx)("a",{href:"https://gabrielp-oliveira.github.io/",target:"_blank",rel:"noreferrer",children:Object(m.jsx)(o.a,{icon:l.f})})]})]}),Object(m.jsxs)("div",{style:{display:"flex",justifyContent:"center",flexWrap:"wrap",paddingBottom:"50px"},children:[Object(m.jsxs)("div",{className:"functionalities",children:[Object(m.jsx)("h2",{children:"Functionalities"}),Object(m.jsxs)("div",{children:[Object(m.jsx)("li",{children:"Register and login a personal account."}),Object(m.jsx)("li",{children:"Saved all the tasks and planner in a database"}),Object(m.jsx)("li",{children:"update all changes to everyone at the same time."}),Object(m.jsx)("li",{children:"limit the acess of a user depending of her acess."})]})]}),Object(m.jsxs)("div",{className:"observations",children:[Object(m.jsx)("h2",{children:"Observations"}),Object(m.jsxs)("p",{children:["you can find the front-end repository ",Object(m.jsx)("a",{href:"https://github.com/gabrielp-oliveira/planner-task",children:"here"}),", and the back-end ",Object(m.jsx)("a",{href:"https://github.com/gabrielp-oliveira/planner-task-node",children:"here"}),"."]}),Object(m.jsx)("p",{children:"This app is hosted on heroku free plan, meaning that on the initial load, the server mat neet to start which can cause a delay."})," "]})]})]})]}),Object(m.jsx)("div",{className:"footer",children:Object(m.jsxs)("span",{children:["Designed & Developed by ",Object(m.jsx)("a",{href:"https://github.com/gabrielp-oliveira",target:"_blank",rel:"noreferrer",children:"Gabriel P. Oliveira"})]})})]})]})};var Ne=function(){var e=Object(k.g)(),t=Object(a.useRef)(null),n=Object(a.useRef)(null),i=Object(a.useState)(),c=Object(r.a)(i,2),s=c[0],j=c[1],u=Object(a.useState)(),b=Object(r.a)(u,2),f=b[0],v=b[1],w=Object(a.useState)(!1),S=Object(r.a)(w,2),y=(S[0],S[1]);return Object(a.useEffect)((function(){var e,t;null===(e=n.current)||void 0===e||null===(t=e.children[1].children[0])||void 0===t||t.select()}),[]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"HomePageHeader",children:[Object(m.jsx)(d.b,{to:"/planner-task",children:"Home Page"}),Object(m.jsxs)("div",{children:[Object(m.jsx)(d.b,{to:"/planner-task/login",children:"log in"}),Object(m.jsx)(d.b,{to:"/planner-task/register",children:"register"})]})]}),Object(m.jsx)("div",{className:"login",children:Object(m.jsxs)("div",{className:"form",children:[Object(m.jsx)("div",{children:Object(m.jsx)("span",{children:"Verify Account"})}),Object(m.jsxs)("form",{onSubmit:function(a){return function(a){var i,c,s,r;a.preventDefault();var l=null===(i=n.current)||void 0===i||null===(c=i.children[1].children[0])||void 0===c?void 0:c.value.trim(),o=null===(s=t.current)||void 0===s||null===(r=s.children[1].children[0])||void 0===r?void 0:r.value.trim();""!==l&&""!==o?O.post("/auth/confirmCode",{email:l,token:o}).then((function(t){t.data.error?(j(!0),v(t.data.error),y(!1)):(alert("everything ok, make login again"),e.push("/planner-task/login"),document.location.reload(),j(!1))})).catch((function(e){j(!0),v(e),y(!1)})):(j(!0),v("some input is empty, please fill all the data."))}(a)},children:[Object(m.jsx)("div",{className:"label",children:Object(m.jsxs)(h.a,{sx:{display:"flex",alignItems:"flex-end"},className:"input",children:[Object(m.jsx)(o.a,{icon:l.d}),Object(m.jsx)(p.a,{id:"input-with-sx",label:"Email",variant:"standard",ref:n,fullWidth:!0,type:"email"})]})}),Object(m.jsx)("div",{className:"label",children:Object(m.jsxs)(h.a,{sx:{display:"flex",alignItems:"flex-end"},className:"input",children:[Object(m.jsx)(o.a,{icon:l.m}),Object(m.jsx)(p.a,{id:"input-with-sx",label:"Token",variant:"standard",ref:t,fullWidth:!0})]})}),Object(m.jsx)(x.a,{className:"loginButton",type:"submit",variant:"contained",color:"primary",children:"verify"}),"\xa0\xa0",Object(m.jsx)(x.a,{className:"loginButton",variant:"contained",color:"primary",onClick:function(){e.push("/planner-task/login"),document.location.reload()},children:"Login"})]})]})}),Object(m.jsx)(g,{status:s,setStatus:j,info:f})]})};n(211);var Ce=function(e){var t=e.formInfo,n=e.stage,i=e.currentInfo,c=Object(a.useRef)(null),s=Object(a.useRef)(null),j=Object(a.useState)({plannerDescription:"",plaannerName:""}),u=Object(r.a)(j,2),b=u[0],O=u[1],h=Object(a.useState)(),f=Object(r.a)(h,2),v=f[0],k=f[1],w=Object(a.useState)(),S=Object(r.a)(w,2),y=S[0],N=S[1];return Object(a.useEffect)((function(){O(i)}),[i]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"newPlannerStage",children:[Object(m.jsx)("span",{children:"lets start"}),Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{children:Object(m.jsx)(p.a,{id:"standard-basic",label:"Planner Name",fullWidth:!0,ref:c,value:null===b||void 0===b?void 0:b.plaannerName,onChange:function(e){return O({plaannerName:e.target.value,plannerDescription:b.plannerDescription})}})}),Object(m.jsx)("div",{children:Object(m.jsx)(p.a,{id:"outlined-multiline-static",label:"Description",multiline:!0,fullWidth:!0,rows:4,defaultValue:null===b||void 0===b?void 0:b.plannerDescription,ref:s,value:null===b||void 0===b?void 0:b.plannerDescription,onChange:function(e){return O({plannerDescription:e.target.value,plaannerName:b.plaannerName})}})})]}),Object(m.jsxs)("p",{children:[Object(m.jsx)(d.b,{to:"/planner-task/profile",children:Object(m.jsx)(x.a,{variant:"contained",color:"secondary",children:Object(m.jsx)(o.a,{icon:l.a})})}),Object(m.jsx)(x.a,{onClick:function(){var e;""!==(null===(e=b.plaannerName)||void 0===e?void 0:e.trim())?(t(b),n(1)):(k("field name cannot be empty, fill in correctly."),N(!0))},variant:"contained",color:"primary",children:Object(m.jsx)(o.a,{icon:l.e})})]})]}),Object(m.jsx)(g,{status:y,setStatus:N,info:v})]})};var Ie=function(e){var t=e.formInfo,n=e.stage,i=e.currentInfo,c=Object(a.useRef)(null),s=Object(a.useState)(),d=Object(r.a)(s,2),j=d[0],u=d[1],b=Object(a.useState)(""),h=Object(r.a)(b,2),f=h[0],v=h[1],k=Object(a.useState)(),w=Object(r.a)(k,2),S=w[0],y=w[1],N=Object(a.useState)(),C=Object(r.a)(N,2),I=C[0],E=C[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"newPlannerStage",children:[Object(m.jsx)("span",{children:"participants"}),Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{children:Object(m.jsx)(p.a,{type:"text",ref:c,label:Object(m.jsx)("span",{className:"text",children:"email of the participant"}),fullWidth:!0,value:f,onChange:function(e){return v(e.target.value)}})}),Object(m.jsx)("div",{children:Object(m.jsxs)(p.a,{select:!0,name:"acess",fullWidth:!0,onChange:function(e){return u(e.target.value)},helperText:Object(m.jsx)("span",{className:"text",children:"Please select the acess for the participant"}),children:[Object(m.jsx)(z.a,{value:"intermediate",children:"intermediate"},"intermediate"),Object(m.jsx)(z.a,{value:"total",children:"total"},"total"),Object(m.jsx)(z.a,{value:"observer",children:"observer"},"observer")]})})]}),Object(m.jsx)(x.a,{onClick:function(){""!==f.trim()?void 0!=(null===j||void 0===j?void 0:j.trim())?O.post("/user/confirm",{email:f,userId:localStorage.getItem("UserId")}).then((function(e){e.data.error?(y(e.data.error),E(!0)):void 0===i.find((function(e){return e.email===f}))?t((function(e){return[].concat(Object(T.a)(e),[{email:f,acess:j}])})):(y("already registered user."),E(!0))})).then((function(){c.current.value=""})).catch((function(e){c.current.value="",y(e),E(!0)})):(y("please fill in the acess field."),E(!0)):(y("please fill in the participant email field."),E(!0))},variant:"contained",color:"primary",children:"add user"}),Object(m.jsx)("br",{}),Object(m.jsx)("div",{id:"participants",children:null===i||void 0===i?void 0:i.map((function(e){return Object(m.jsx)("div",{children:Object(m.jsxs)("div",{children:[Object(m.jsxs)("span",{children:[e.email," "]}),Object(m.jsx)("span",{children:e.acess}),Object(m.jsxs)(x.a,{onClick:function(){return function(e){var n=i.filter((function(t){return t.email!==e}));t(),t(n)}(e.email)},variant:"outlined",style:{border:"1px solid rgb(224, 37, 37, 0.4)"},children:[" ",Object(m.jsx)(o.a,{icon:l.k})]})]})},e.email)}))}),Object(m.jsxs)("p",{children:[Object(m.jsx)(x.a,{onClick:function(){n(0)},variant:"contained",color:"secondary",children:Object(m.jsx)(o.a,{icon:l.a})}),Object(m.jsx)(x.a,{onClick:function(){(null===i||void 0===i?void 0:i.length)>0||alert("you didn't added any participant, you can add later, in the planner page."),n(2)},variant:"contained",color:"primary",children:Object(m.jsx)(o.a,{icon:l.e})})]})]}),Object(m.jsx)(g,{status:I,setStatus:E,info:S})]})},Ee=[{StageName:"Approved Ideas",pos:0,StageDesc:"ideas already analyzed and already approved by the team or analyst."},{StageName:"Planning and scale",pos:1,StageDesc:"planning stage and resource counts, also being made the scale of the person responsible for it."},{StageName:"To do",pos:2,StageDesc:"awaiting start of task progress"},{StageName:"Out of Range",pos:3,StageDesc:"special tasks that require special attention."},{StageName:"In Progress",pos:4,StageDesc:"tasks in progress, already being worked on and discussed."},{StageName:"Tests",pos:5,StageDesc:"testing stage, not only being tested by the analyst, but can also be tested by the requester or user."},{StageName:"Awaiting approval",pos:6,StageDesc:"waiting for the requester to approve the task."},{StageName:"Implantation",pos:7,StageDesc:"step to move the task to the final environment"},{StageName:"Production",pos:8,StageDesc:"already in production, enabling testing in the final environment of the task."},{StageName:"Done",pos:9,StageDesc:"task performed successfully."}];var Te=function(e){var t=e.formInfo,n=e.step,i=e.currentInfo,c=e.status,s=Object(a.useState)(),d=Object(r.a)(s,2),j=d[0],u=d[1],b=Object(a.useState)(),O=Object(r.a)(b,2),h=O[0],f=O[1],v=Object(a.useState)(),k=Object(r.a)(v,2),w=k[0],S=k[1],y=Object(a.useState)(),N=Object(r.a)(y,2),C=N[0],I=N[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"newPlannerStage",children:[Object(m.jsx)("span",{children:"stages"}),Object(m.jsx)("div",{children:Object(m.jsx)(p.a,{type:"text",label:"stage Name",fullWidth:!0,onChange:function(e){return u(e.target.value)}})}),Object(m.jsx)("div",{children:Object(m.jsx)(p.a,{type:"text",id:"outlined-multiline-static",multiline:!0,onChange:function(e){return f(e.target.value)},label:"stage Description",fullWidth:!0,rows:3})}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"buttons",children:[Object(m.jsx)(x.a,{onClick:function(){c(!1),n(1)},variant:"contained",color:"secondary",children:Object(m.jsx)(o.a,{icon:l.a})}),Object(m.jsx)(x.a,{onClick:function(){P.then((function(e){e.data.error?(S(e.data.error),I(!0)):i.length>0?(c(!0),n(3)):(S("you have to create unless one stage for your planner"),I(!0))})).catch((function(e){S(e),I(!0)}))},variant:"contained",color:"primary",children:"Done !"})]}),Object(m.jsxs)("div",{className:"buttons",children:[Object(m.jsx)(x.a,{variant:"contained",onClick:function(){t([]),Ee.forEach((function(e){t((function(t){return[].concat(Object(T.a)(t),[{StageName:e.StageName,StageDesc:e.StageDesc}])}))}))},style:{background:"rgb(7, 84, 226)",color:"white"},children:"pre-created stage"}),Object(m.jsx)(x.a,{variant:"contained",onClick:function(){void 0!==(null===j||void 0===j?void 0:j.trim())||void 0!==(null===h||void 0===h?void 0:h.trim())?void 0===(null===i||void 0===i?void 0:i.find((function(e){return e.StageName===j})))?""!==(null===j||void 0===j?void 0:j.trim())?t((function(e){return[].concat(Object(T.a)(e),[{StageName:j,StageDesc:h}])})):(S("use a valid name"),I(!0)):(S("name allready in use"),I(!0)):(I(!0),S("some field is empty"))},style:{background:"rgb(179, 0, 140)",color:"white"},children:" New Stage"})]})]}),Object(m.jsx)("span",{children:"you can drag and drop the stages to reorder then."}),Object(m.jsx)("span",{className:"columnList",children:Object(m.jsx)(D.a,{onDragEnd:function(e){var n=e.source,a=e.destination;if(a){var c=Array.from(i),s=c.splice(n.index,1),l=Object(r.a)(s,1)[0];c.splice(a.index,0,l),t(c)}},children:Object(m.jsx)(D.c,{droppableId:"todo",direction:"horizontal",children:function(e){return Object(m.jsx)("div",Object(E.a)(Object(E.a)({id:"todo"},e.droppableProps),{},{ref:e.innerRef,children:i.map((function(e,n){var a=e.StageName,c=e.StageDesc;return Object(m.jsx)(D.b,{draggableId:a,index:n,children:function(e,n){return Object(m.jsxs)("div",Object(E.a)(Object(E.a)(Object(E.a)({className:n.isDragging?"dragging card":"card",ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:[Object(m.jsx)(F.a,{title:Object(m.jsx)("span",{className:"mat-tooltip",children:c?a+" - "+c:""}),placement:"top-end",children:Object(m.jsx)("div",{children:Object(m.jsx)("span",{children:V(a,11)})})}),Object(m.jsx)(x.a,{onClick:function(){return function(e){var n=i.filter((function(t){return t.StageName!==e}));t(n)}(a)},children:Object(m.jsx)(o.a,{icon:l.k})})]}))}},a)}))}))}})})})]}),Object(m.jsx)(g,{status:C,setStatus:I,info:w})]})};var De=function(e){e.formInfo,e.stage;var t=Object(a.useState)(5),n=Object(r.a)(t,2),i=n[0],c=n[1];return Object(a.useEffect)((function(){var e=window.location.origin;setInterval((function(){c(i-1),1===i&&window.location.replace(e+"/planner-task/profile")}),1e3)}),[i]),Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{children:"OK, its done!"}),"you will be redirect to your profile in ",i,"."]})};var Pe=function(){var e=Object(a.useState)({plannerDescription:"",plaannerName:""}),t=Object(r.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)([]),s=Object(r.a)(c,2),l=s[0],o=s[1],d=Object(a.useState)([]),j=Object(r.a)(d,2),u=j[0],b=j[1],h=Object(a.useState)(0),p=Object(r.a)(h,2),f=p[0],v=p[1],g=Object(a.useState)(!1),w=Object(r.a)(g,2),S=w[0],y=w[1],N=Object(k.g)(),C=[Object(m.jsx)(Ce,{stage:v,formInfo:i,currentInfo:n}),Object(m.jsx)(Ie,{stage:v,formInfo:o,currentInfo:l}),Object(m.jsx)(Te,{step:v,formInfo:b,currentInfo:u,status:y}),Object(m.jsx)(De,{})];return Object(a.useEffect)((function(){S&&O.post("/planner/new",{params:{startStage:n,addParticipantsStage:l,newStages:u}}).then((function(e){i({plannerDescription:"",plaannerName:""}),o([]),b([]),y(!1)}))}),[S]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Oe,{}),Object(m.jsxs)("div",{className:"newPlanner",children:[Object(m.jsx)(x.a,{onClick:function(){N.push("/planner-task/profile"),document.location.reload()},className:"link",children:"Profile"}),Object(m.jsx)("div",{children:C[f]})]})]})};var We=function(){var e=Object(a.useContext)(W),t=(e.userInfoContext,e.setUserInfoContext),n=Object(a.useState)(),i=Object(r.a)(n,2),c=i[0],s=i[1];return Object(a.useEffect)((function(){P.then((function(e){e.data.error?s(!1):(t(e.data),s(!0))})).catch((function(e){s(!1)}))}),[t]),Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(d.a,{children:Object(m.jsxs)(k.d,{children:[Object(m.jsx)(he,{path:"/planner-task/register",Comp:S,isAuth:!c,redirect:"/planner-task"}),Object(m.jsx)(he,{path:"/planner-task/login",Comp:w,isAuth:!c,redirect:"/planner-task"}),Object(m.jsx)(he,{path:"/planner-task/forgotpassword",Comp:me,isAuth:!c,redirect:"/planner-task"}),Object(m.jsx)(he,{path:"/planner-task/verifyAccount",Comp:Ne,isAuth:!c,redirect:"/planner-task"}),Object(m.jsx)(he,{path:"/planner-task/profile/newPlanner",Comp:Pe,isAuth:!0,redirect:"/planner-task"}),Object(m.jsx)(k.b,{path:"/planner-task",exact:!0,component:ye}),Object(m.jsx)(k.b,{path:"/planner-task/profile",exact:!0,component:fe}),Object(m.jsx)(he,{path:"/planner-task/planner/id=:id/info",Comp:be,isAuth:c,redirect:"/planner-task"}),Object(m.jsx)(he,{path:"/planner-task/planner/id=:id",Comp:oe,isAuth:c,redirect:"/planner-task"})]})})})},Ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,260)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),i(e),c(e),s(e)}))};s.a.render(Object(m.jsx)(A,{children:Object(m.jsx)(We,{})}),document.getElementById("root")),Ae()},73:function(e,t,n){},75:function(e,t,n){}},[[212,1,2]]]);
//# sourceMappingURL=main.52f9c9a5.chunk.js.map